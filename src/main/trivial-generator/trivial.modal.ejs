<script>
    const songInfo = <%- JSON.stringify(songInfo) %>;
    const trivialType = <%- JSON.stringify(trivialType) %>;

    // ************
    //     MODAL
    // ************
    const modal = document.getElementById("modal-overlay");
    const btnInfo = document.getElementById("btn-info");
    const btnModal = document.getElementById("ok-btn");

    const modalAnime = document.getElementById("modal-anime");
    const modalOped = document.getElementById("modal-oped");
    const modalBand = document.getElementById("modal-band");
    const modalSong = document.getElementById("modal-song");
    const modalGame = document.getElementById("modal-game");
    const modalSaga = document.getElementById("modal-saga");

    modalSong.parentElement.style.display = "block";        
    
    if (trivialType === "anime") {
        modalAnime.parentElement.style.display = "block";
        modalOped.parentElement.style.display = "block";
        modalBand.parentElement.style.display = "block";
    }

    else if (trivialType === "normie") {
        modalBand.parentElement.style.display = "block";
    }

    else if (trivialType === "game") {
        modalSaga.parentElement.style.display = "block";
        modalGame.parentElement.style.display = "block";
    }

    btnModal.onclick = () => (modal.style.display = "none");
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    };

    function infoModal(currentId) {
        if (currentId == "") return;
        
        modal.style.display = "block";

        const song = songInfo[currentId];

        modalAnime.innerHTML = song.anime;
        modalOped.innerHTML = song.oped;
        modalBand.innerHTML = song.band;
        modalSong.innerHTML = song.name;
        modalSaga.innerHTML = song.saga;
        modalGame.innerHTML = song.game;
    }
</script>